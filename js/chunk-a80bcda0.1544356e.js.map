{"version":3,"sources":["webpack:///./src/views/front/Product.vue?60f8","webpack:///src/views/front/Product.vue","webpack:///./src/views/front/Product.vue?3f3a","webpack:///./src/views/front/Product.vue","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","product","title","_m","_e","imageUrl","description","windowWidth","origin_price","price","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","num","key","domProps","unit","addTocart","id","status","loadingItem","swiperHeight","ref","swiperOption","breakpoints","item","class","widthResize","style","backgroundImage","preventDefault","toProduct","_f","originPrice","slot","staticRenderFns","data","cart","carData","newarray","window","innerWidth","loadTxt","loop","slidesPerView","spaceBetween","pagination","el","clickable","1050","700","475","components","Swiper","SwiperSlide","mounted","$nextTick","addEventListener","console","log","beforeDestroy","onResize","methods","getProduct","vm","$store","dispatch","$http","get","api","then","response","lightBoxData","localCarData","forEach","cacheCarID","push","productId","indexOf","qty","Title","cartContent","localStorage","setItem","JSON","stringify","cache","splice","keys","message","products","$router","$route","params","computed","lightbox","created","getProducts","getlocalCarData","component","$","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","proto","forced","searchElement","apply","arguments","length","undefined"],"mappings":"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","file":"js/chunk-a80bcda0.1544356e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Productwrap container-fluid\"},[_c('div',{staticClass:\"wrap\"},[_c('div',{attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"detailModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"detailModalLabel\"}},[_c('span',[_vm._v(_vm._s(_vm.$t('Product.' + _vm.product.title)))])])]),_c('div',{staticClass:\"row\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"col-md-7 border-0\"},[_c('div',{staticClass:\"modal-body\"},[(_vm.loadTxt)?_c('div',{staticClass:\"d-flex flex-row\"},[_c('div',{staticClass:\"pt-3 loadingTxt\"},[_vm._v(\"資料讀取中\")]),_vm._m(0)]):_vm._e(),_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":_vm.product.imageUrl,\"alt\":\"產品圖片\"}})])]),_c('div',{staticClass:\"col-md-5 pt-5\"},[_c('blockquote',{staticClass:\"blockquote mt-3\"},[_c('footer',{staticClass:\"blockquote-footer text-left text-body\"},[_vm._v(\" \"+_vm._s(_vm.$t('Product.' + _vm.product.description))+\" \")])]),_c('p',{staticClass:\"text-left pt-2 text-muted\"},[_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.Notice'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.P1'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.P2'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.P3'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.P4'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.P5'))),_c('br'),_vm._v(\" Window Width: \"+_vm._s(_vm.windowWidth)+\" \"),_c('br'),_vm._v(\" 測試用 \")]),_c('p',{staticClass:\"h6 text-right\"},[_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.OriginPrice'))+\" \"),(_vm.product.price)?_c('del',[_vm._v(_vm._s(_vm.product.origin_price))]):_vm._e()]),(_vm.product.price)?_c('p',{staticClass:\"h5 text-right font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.Price'))+\" \"+_vm._s(_vm.product.price)+\" \")]):_vm._e()])]),_c('div',{staticClass:\"modal-footer mt-5 d-flex justify-content-end\"},[_c('div',{staticClass:\"d-flex justify-content-start mt-5\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"form-control w-100\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"0\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.Selet'))+\" \")]),_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.Choose'))+_vm._s(num)+\" \"+_vm._s(_vm.$t('Cart.' + _vm.product.unit))+\" \")])})],2),_c('span',{staticClass:\"text-muted text-nowrap p-2\"},[_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.Total'))+\" \"),(_vm.product.num * _vm.product.price >= 0)?_c('strong',[_vm._v(\" \"+_vm._s(_vm.product.num * _vm.product.price)+\" \")]):_vm._e()])]),_c('button',{staticClass:\"btn btn-secondary mt-5\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addTocart(_vm.product, _vm.product.num)}}},[(_vm.product.id === _vm.status.loadingItem)?_c('i',{staticClass:\"fas fa-spinner fa-pulse\"}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.$t('ProductVue.AddToCart'))+\" \")])]),_c('div',{staticClass:\"text-left pl-2 mt-5 mb-5\"},[_c('span',{staticClass:\"h3\"},[_vm._v(_vm._s(_vm.$t('ProductVue.Recommend')))])]),(_vm.loadTxt)?_c('span',[_vm._v(\" \"+_vm._s(_vm.swiperHeight)+\" 看到這段文字，表示後端資料處理中 \")]):_vm._e(),_c('swiper',{ref:\"checkHeight\",staticClass:\"swiper mb-3 mt-3\",attrs:{\"options\":_vm.swiperOption,\"breakpoints\":_vm.swiperOption.breakpoints}},[_vm._l((_vm.lightbox),function(item){return _c('swiper-slide',{key:item.id,class:{ widthResize: _vm.windowWidth < 700 }},[_c('div',{staticClass:\"card h-100 mt-3\"},[_c('div',{staticClass:\"lightbox-img\"},[_c('div',{style:({ backgroundImage: (\"url(\" + (item.imageUrl) + \")\") }),on:{\"click\":function($event){$event.preventDefault();return _vm.toProduct(item.id)}}})]),_c('div',{staticClass:\"card-body text-left d-flex flex-column p-0\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('Product.' + item.title))+\" \")]),_c('div',{staticClass:\"text-truncate pb-2\"},[_vm._v(\" \"+_vm._s(_vm.$t('Product.' + item.description))+\" \")]),_c('div',{staticClass:\"d-flex mt-auto w-100\"},[(!item.price)?_c('div',[_vm._v(\" NT \"+_vm._s(_vm._f(\"currency\")(item.originPrice))+\" \")]):_vm._e(),(item.price)?_c('del',{staticClass:\"text-muted mr-auto\"},[_vm._v(\"NT \"+_vm._s(_vm._f(\"currency\")(item.origin_price)))]):_vm._e(),(item.price)?_c('div',{staticClass:\"text-danger\"},[_vm._v(\" NT \"+_vm._s(_vm._f(\"currency\")(item.price))+\" \")]):_vm._e()])])])])}),_c('div',{staticClass:\"swiper-pagination\",attrs:{\"slot\":\"pagination\"},slot:\"pagination\"})],2)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loadingWrap align-self-end\"},[_c('div',{staticClass:\"dot\"}),_c('div',{staticClass:\"dot\"}),_c('div',{staticClass:\"dot\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Productwrap container-fluid\">\n    <div class=\"wrap\">\n      <div\n        tabindex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"detailModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"detailModalLabel\">\n            <span>{{ $t('Product.' + product.title) }}</span>\n          </h5>\n        </div>\n        <div class=\"row\" role=\"document\">\n          <div class=\"col-md-7 border-0\">\n            <div class=\"modal-body\">\n              <div class=\"d-flex flex-row\" v-if=\"loadTxt\">\n                <div class=\"pt-3 loadingTxt\">資料讀取中</div>\n                <div class=\"loadingWrap align-self-end\">\n                  <div class=\"dot\"></div>\n                  <div class=\"dot\"></div>\n                  <div class=\"dot\"></div>\n                </div>\n              </div>\n              <img :src=\"product.imageUrl\" class=\"img-fluid\" alt=\"產品圖片\" />\n            </div>\n          </div>\n          <div class=\"col-md-5 pt-5\">\n            <blockquote class=\"blockquote mt-3\">\n              <footer class=\"blockquote-footer text-left text-body\">\n                {{ $t('Product.' + product.description) }}\n              </footer>\n            </blockquote>\n            <p class=\"text-left pt-2 text-muted\">\n              {{ $t('ProductVue.Notice') }}<br />\n              {{ $t('ProductVue.P1') }}<br />\n              {{ $t('ProductVue.P2') }}<br />\n              {{ $t('ProductVue.P3') }}<br />\n              {{ $t('ProductVue.P4') }}<br />\n              {{ $t('ProductVue.P5') }}<br />\n              Window Width: {{ windowWidth }} <br /> 測試用\n            </p>\n            <p class=\"h6 text-right\">\n              {{ $t('ProductVue.OriginPrice') }}\n              <del v-if=\"product.price\">{{ product.origin_price }}</del>\n            </p>\n            <p class=\"h5 text-right font-weight-bold\" v-if=\"product.price\">\n              {{ $t('ProductVue.Price') }} {{ product.price }}\n            </p>\n          </div>\n        </div>\n        <div class=\"modal-footer mt-5 d-flex justify-content-end\">\n          <div class=\"d-flex justify-content-start mt-5\">\n            <select class=\"form-control w-100\" v-model=\"product.num\">\n              <option value=\"0\" disabled selected>\n                {{ $t('ProductVue.Selet') }}\n              </option>\n              <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">\n                {{ $t('ProductVue.Choose') }}{{ num }}\n                {{ $t('Cart.' + product.unit) }}\n              </option>\n            </select>\n            <span class=\"text-muted text-nowrap p-2\">\n              {{ $t('ProductVue.Total') }}\n              <strong v-if=\"product.num * product.price >= 0\">\n                {{ product.num * product.price }}\n              </strong>\n            </span>\n          </div>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary mt-5\"\n            @click=\"addTocart(product, product.num)\"\n          >\n            <i\n              class=\"fas fa-spinner fa-pulse\"\n              v-if=\"product.id === status.loadingItem\"\n            ></i>\n            {{ $t('ProductVue.AddToCart') }}\n          </button>\n        </div>\n        <div class=\"text-left pl-2 mt-5 mb-5\">\n          <span class=\"h3\">{{ $t('ProductVue.Recommend') }}</span>\n        </div>\n        <!-- 燈箱-->\n        <span v-if=\"loadTxt\">\n          {{ swiperHeight }} 看到這段文字，表示後端資料處理中\n          <!--測試，後端lag就跳出-->\n        </span>\n        <swiper\n          class=\"swiper mb-3 mt-3\"\n          :options=\"swiperOption\"\n          ref=\"checkHeight\"\n          :breakpoints=\"swiperOption.breakpoints\"\n        >\n          <swiper-slide\n            v-for=\"item in lightbox\"\n            :key=\"item.id\"\n            :class=\"{ widthResize: windowWidth < 700 }\"\n          >\n            <div class=\"card h-100 mt-3\">\n              <div class=\"lightbox-img\">\n                <div\n                  @click.prevent=\"toProduct(item.id)\"\n                  :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n                ></div>\n              </div>\n              <div class=\"card-body text-left d-flex flex-column p-0\">\n                <h5 class=\"card-title\">\n                  {{ $t('Product.' + item.title) }}\n                </h5>\n                <div class=\"text-truncate pb-2\">\n                  {{ $t('Product.' + item.description) }}\n                </div>\n                <div class=\"d-flex mt-auto w-100\">\n                  <div v-if=\"!item.price\">\n                    NT {{ item.originPrice | currency }}\n                  </div>\n                  <del class=\"text-muted mr-auto\" v-if=\"item.price\"\n                    >NT {{ item.origin_price | currency }}</del\n                  >\n                  <div class=\"text-danger\" v-if=\"item.price\">\n                    NT {{ item.price | currency }}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </swiper-slide>\n          <div class=\"swiper-pagination\" slot=\"pagination\"></div>\n        </swiper>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { Swiper, SwiperSlide } from 'vue-awesome-swiper'\n\nexport default {\n  name: 'Product',\n  data () {\n    return {\n      product: {},\n      status: {\n        loadingItem: ''\n      },\n      cart: [],\n      carData: [],\n      newarray: [],\n      windowWidth: window.innerWidth,\n      swiperHeight: 0,\n      loadTxt: true,\n      swiperOption: {\n        loop: true,\n        slidesPerView: 1,\n        spaceBetween: 30,\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true\n        },\n        breakpoints: {\n          1050: {\n            slidesPerView: 4,\n            spaceBetween: 30\n          },\n          700: {\n            slidesPerView: 3,\n            spaceBetween: 30\n          },\n          475: {\n            slidesPerView: 2,\n            spaceBetween: 30\n          }\n        }\n      }\n    }\n  },\n  components: {\n    Swiper,\n    SwiperSlide\n  },\n  mounted () {\n    this.$nextTick(() => {\n      // 等其他資料處理完畢後才輪到這裡\n      window.addEventListener('resize', this.onResize)\n      this.onResize()\n      // this.swiperHeight = this.$refs.imgBox.clientHeight\n      console.log(1, this.$store.dispatch('updataLoading'))\n    })\n  },\n  beforeDestroy () {\n    window.addEventListener('resize', this.onResize)\n  },\n  methods: {\n    getProduct (productId) {\n      this.loadTxt = true\n      const vm = this\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${productId}`\n      vm.$store.dispatch('updataLoading', true)\n      vm.$http.get(api).then(response => {\n        vm.product = response.data.product\n        vm.product.num = 1\n        vm.lightBoxData(vm.product.id)\n        vm.$store.dispatch('updataLoading', false)\n        this.loadTxt = false\n      })\n    },\n    addTocart (data, num) {\n      const vm = this\n      const cacheCarID = []\n      vm.localCarData.forEach(item => {\n        cacheCarID.push(item.productId)\n      })\n      if (cacheCarID.indexOf(data.id) === -1) {\n        const cartContent = {\n          productId: data.id,\n          qty: num,\n          Title: data.title,\n          originPrice: data.origin_price,\n          price: data.price\n        }\n        vm.carData.push(cartContent)\n        vm.$store.dispatch('cartsModules/updatelocalCarData', cartContent)\n        localStorage.setItem('carData', JSON.stringify(vm.carData))\n      } else {\n        let cache = {}\n        vm.localCarData.forEach((item, keys) => {\n          if (item.productId === data.id) {\n            const { qty } = item\n            cache = {\n              productId: data.id,\n              qty: qty + num,\n              Title: data.title,\n              originPrice: data.origin_price,\n              price: data.price\n            }\n            vm.carData.splice(keys, 1)\n          }\n        })\n        vm.carData.push(cache)\n        vm.$store.dispatch('cartsModules/updatelocalCarData', cache)\n        localStorage.setItem('carData', JSON.stringify(vm.carData))\n      }\n      vm.$store.dispatch('updateMessage', {\n        message: '已加入購物車',\n        status: 'success'\n      })\n    },\n    lightBoxData (data) {\n      const vm = this\n      vm.newarray = []\n      vm.products.filter(item => {\n        if (data !== item.id) {\n          vm.newarray.push(item)\n        }\n      })\n    },\n    toProduct (id) {\n      const vm = this\n      vm.$store.dispatch('updataLoading', true)\n      vm.$router.push(`/product/${id}`)\n      this.getProduct(id)\n      vm.$route.params.productId = id\n      vm.$store.dispatch('updataLoading', false)\n    },\n    onResize () {\n      this.windowWidth = window.innerWidth\n    },\n    ...mapActions('productModules', ['getProducts']),\n    ...mapActions('cartsModules', ['updatelocalCarData', 'getlocalCarData'])\n  },\n  computed: {\n    lightbox () {\n      const vm = this\n      return vm.newarray\n    },\n    ...mapGetters('productModules', ['products']),\n    ...mapGetters(['isLoading']),\n    ...mapGetters('cartsModules', ['localCarData'])\n  },\n  created () {\n    const vm = this\n    vm.getProduct(vm.$route.params.productId)\n    vm.getProducts()\n    vm.getlocalCarData()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=137ac1c3&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}