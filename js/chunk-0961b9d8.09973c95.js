(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0961b9d8"],{2532:function(t,e,a){"use strict";var s=a("23e7"),r=a("5a34"),i=a("1d80"),c=a("ab13");s({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,a){var s=a("861d"),r=a("c6b6"),i=a("b622"),c=i("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==r(t))}},"5a34":function(t,e,a){var s=a("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7f9c":function(t,e,a){"use strict";a("e4e0")},ab13:function(t,e,a){var s=a("b622"),r=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(s){}}return!1}},c975:function(t,e,a){"use strict";var s=a("23e7"),r=a("4d64").indexOf,i=a("a640"),c=a("ae40"),o=[].indexOf,n=!!o&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),d=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:n||!l||!d},{indexOf:function(t){return n?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},caad:function(t,e,a){"use strict";var s=a("23e7"),r=a("4d64").includes,i=a("44d2"),c=a("ae40"),o=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!o},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cf82:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bgImg2"},[a("div",{staticClass:"slogan2"},[a("div",[t._v(" "+t._s(t.$t("ListProducts.BeforeCouponText"))),a("span",[t._v(" order999 ")]),t._v(t._s(t.$t("ListProducts.AfterCouponText"))+" ")])])]),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"search pt-2"},[a("div",{staticClass:"my-3 my-lg-0 ListProductsImg"},[a("div",{staticClass:"ListProductsInputwrap"},[a("div",{staticClass:"d-flex flex-row justify-content-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"想吃什麼?","aria-label":"Search"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.filter()}}},[a("font-awesome-icon",{attrs:{icon:"search",size:"1x"}})],1)])])])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 ListProductsSidebar"},[a("div",{staticClass:"list-group sticky-top pt-4"},[t._l(t.categories,(function(e){return a("a",{key:e,staticClass:"list-group-item list-group-item-action ListProductsCardBG",class:{active:e===t.searchText},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.searchText=e}}},[a("i",{staticClass:"fas fa-fish",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Category."+e))+" ")])})),a("a",{staticClass:"list-group-item list-group-item-action ListProductsCardBG",class:{active:""===t.searchText},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.searchText=""}}},[t._v(" "+t._s(t.$t("ListProducts.AllCategory"))+" ")])],2)]),a("div",{staticClass:"row-cols col-9 container"},[a("div",{staticClass:"text-left clickWrap"},[a("a",{on:{click:function(e){return e.preventDefault(),t.changeType("price")}}},[t._v(" "+t._s(t.$t("ListProducts.PriceSort"))+" "),"price"==t.sortType?a("div",{class:{rotate:t.isReverse}},[a("i",{staticClass:"fas fa-angle-up"})]):t._e()])]),a("div",{ref:"infoBox",staticClass:"row no-gutters d-flex flex-wrap mb-4"},[t.listHeight<10?a("div",[t._v(" 看到這段文字，表示後端資料處理中"+t._s(t.listHeight)+" ")]):t._e(),t._l(t.filter,(function(e,s){return a("div",{key:s,staticClass:"col-xl-3 col-lg-4 col-md-6 mb-3"},[a("div",{staticClass:"d-flex",attrs:{"data-aos":"fade-up","data-aos-duration":"1000"}},[a("div",{staticClass:"pr-4 sizing d-flex"},[a("div",{staticClass:"card mb-1 ListProductsCard"},[a("div",{on:{click:function(a){return t.$router.push("/product/"+e.id)}}},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"}})]),a("div",{staticClass:"card-body"},[a("span",{staticClass:"ListProductsBadge float-right ml-2"},[t._v(t._s(e.category)+" ")]),a("h5",{staticClass:"card-title text-left"},[a("a",{staticClass:"text-dark",on:{click:function(a){return t.$router.push("/product/"+e.id)}}},[t._v(t._s(t.$t("Product."+e.title)))])]),a("p",{staticClass:"ListProductsCardText text-left"},[t._v(" "+t._s(t.$t("Product."+e.content))+" ")]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a("del",{staticClass:"h6"},[t._v(t._s(t._f("currency")(e.origin_price)))]),a("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(e.price)))])])]),a("div",{staticClass:"ListProductsCardFooter p-1 ListProductsCardBG"},[a("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(a){return t.addTocart(e)}}},[t.status.loadingItem===e.id?a("i",{staticClass:"fas fa-spinner fa-pulse"}):t._e(),a("i",{staticClass:"fas fa-shopping-cart fa-lg"}),a("span",[t._v(t._s(t.$t("ListProducts.AddToCart")))])])])])])])])}))],2)])])]),a("GoTop")],1)])},r=[],i=(a("4de4"),a("4160"),a("caad"),a("c975"),a("a434"),a("2532"),a("159b"),a("5530")),c=a("2f62"),o=a("d52f"),n={name:"ListProducts",components:{GoTop:o["a"]},data:function(){return{sortType:"price",isReverse:!1,searchText:"",status:{loadingItem:""},listHeight:0,carData:[]}},methods:Object(i["a"])(Object(i["a"])({addTocart:function(t){var e=this;e.checkdata();var a=[];if(e.localCarData.forEach((function(t){a.push(t.productId)})),-1===a.indexOf(t.id)){var s={productId:t.id,qty:1,Title:t.title,originPrice:t.origin_price,price:t.price};e.carData.push(s),localStorage.setItem("carData",JSON.stringify(e.carData)),s={}}else{var r={};e.localCarData.forEach((function(a,s){if(a.productId===t.id){var i=a.qty;r={productId:t.id,qty:i+=1,Title:t.title,originPrice:t.origin_price,price:t.price},e.carData.splice(s,1),console.log("old"),e.carData.push(r),r={}}localStorage.setItem("carData",JSON.stringify(e.carData))}))}a=[],e.checkdata(),e.$store.dispatch("updateMessage",{message:"已加入購物車",status:"success"})},checkdata:function(){var t=this;t.$store.dispatch("cartsModules/getlocalCarData"),t.carData=[],t.localCarData.forEach((function(e){t.carData.push(e)}))},checkDetail:function(t){this.$router.push("/product/".concat(t))},changeType:function(t){var e=this;e.sortType===t&&(e.isReverse=!e.isReverse),e.sortType=t}},Object(c["b"])("productModules",["getProducts"])),Object(c["b"])("cartsModules",["updatelocalCarData","getlocalCarData"])),computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({filter:function(){var t=this,e=t.newData,a=t.tempData;t.$store.dispatch("updataLoading",!0),a=t.products.filter((function(e){if(""===t.searchText)return t.products;if(t.searchText===e.category){var a=e.category.toLowerCase().includes(t.searchText.toLowerCase());return a}if(t.searchText!==e.title){var s=e.title.toLowerCase().includes(t.searchText.toLowerCase());return s}if(t.searchText===e.title){var r=e.title.toLowerCase().includes(t.searchText.toLowerCase());return r}}));var s=t.sortType,r=t.sortdata;return r=a.sort((function(e,a){return t.isReverse?a[s]-e[s]:e[s]-a[s]})),e=[],r.forEach((function(t){e.push(t)})),t.$store.dispatch("updataLoading",!1),e}},Object(c["c"])("productModules",["categories","products"])),Object(c["c"])(["isLoading"])),Object(c["c"])("cartsModules",["localCarData"])),created:function(){this.getProducts(),this.getlocalCarData(),this.checkdata()},mounted:function(){this.listHeight=this.$refs.infoBox.clientHeight,console.log(1,this.listHeight)}},l=n,d=a("2877"),u=Object(d["a"])(l,s,r,!1,null,null,null);e["default"]=u.exports},d52f:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"a"},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.scY>300,expression:"scY > 300"}],attrs:{id:"pagetop"},on:{click:t.toTop}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#000000","stroke-width":"1","stroke-linecap":"square","stroke-linejoin":"arcs"}},[a("path",{attrs:{d:"M18 15l-6-6-6 6"}})])])])],1)},r=[],i={name:"GoTop",data:function(){return{scTimer:0,scY:0}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var t=this;this.scTimer||(this.scTimer=setTimeout((function(){t.scY=window.scrollY,clearTimeout(t.scTimer),t.scTimer=0}),100))},toTop:function(){window.scrollTo({top:0,behavior:"smooth"})}}},c=i,o=(a("7f9c"),a("2877")),n=Object(o["a"])(c,s,r,!1,null,"543aa10c",null);e["a"]=n.exports},e4e0:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0961b9d8.09973c95.js.map